<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NESS IND | Ecommerce Per√∫</title>
    <link rel="stylesheet" href="styles.css">
    </head>
<body>

    <nav class="navbar">
        <div class="logo">NESS IND</div>
        <ul class="nav-links">
            <li><a href="#" onclick="app.navigate('home')">Inicio</a></li>
            <li><a href="#" onclick="app.navigate('cart')">Carrito <span id="cart-count">0</span></a></li>
            <li id="nav-login"><a href="#" onclick="app.navigate('login')">Login</a></li>
            <li id="nav-admin" style="display: none;"><a href="#" onclick="app.navigate('admin')">Admin</a></li>
            <li id="nav-logout" style="display: none;"><a href="#" onclick="app.logout()">Salir</a></li>
        </ul>
    </nav>

    <main id="main-container">

        <section id="view-home" class="active-view">
            <div class="filters">
                <input type="text" id="search-input" placeholder="Buscar producto..." onkeyup="app.filterProducts()">
                <select id="category-filter" onchange="app.filterProducts()">
                    <option value="all">Todas las categor√≠as</option>
                    <option value="tecnologia">Tecnolog√≠a</option>
                    <option value="hogar">Hogar</option>
                    <option value="industrial">Industrial</option>
                </select>
                <select id="price-filter" onchange="app.filterProducts()">
                    <option value="default">Orden por precio</option>
                    <option value="asc">Menor a Mayor</option>
                    <option value="desc">Mayor a Menor</option>
                </select>
            </div>
            <div id="product-grid" class="grid-container">
                </div>
        </section>

        <section id="view-login" class="view">
            <div class="auth-container">
                <div class="tabs">
                    <button class="active" onclick="app.toggleAuth('login')">Iniciar Sesi√≥n</button>
                    <button onclick="app.toggleAuth('register')">Registrarse</button>
                </div>
                
                <form id="login-form" onsubmit="app.handleLogin(event)">
                    <h2>Bienvenido a NESS IND</h2>
                    <input type="email" id="login-email" placeholder="Correo electr√≥nico" required>
                    <input type="password" id="login-pass" placeholder="Contrase√±a" required>
                    <button type="submit">Entrar</button>
                    <p class="error-msg" id="login-error"></p>
                    <p class="info-note">Admin: admin@ness.pe / 123456</p>
                </form>

                <form id="register-form" style="display: none;" onsubmit="app.handleRegister(event)">
                    <h2>Crear Cuenta</h2>
                    <input type="text" id="reg-name" placeholder="Nombre completo" required>
                    <input type="email" id="reg-email" placeholder="Correo electr√≥nico" required>
                    <input type="password" id="reg-pass" placeholder="Contrase√±a" required>
                    <button type="submit">Registrarme</button>
                    <p class="error-msg" id="reg-error"></p>
                </form>
            </div>
        </section>

        <section id="view-cart" class="view">
            <h2>Tu Carrito de Compras</h2>
            <div id="cart-items-container">
                </div>
            <div class="cart-summary">
                <h3>Total: S/ <span id="cart-total">0.00</span></h3>
                <button class="btn-primary" onclick="app.navigate('checkout')">Finalizar Compra</button>
                <button class="btn-danger" onclick="app.clearCart()">Vaciar Carrito</button>
            </div>
        </section>

        <section id="view-checkout" class="view">
            <div class="checkout-box">
                <h2>Pasarela de Pagos Segura</h2>
                <div id="checkout-summary"></div>
                <hr>
                <form onsubmit="app.processPayment(event)">
                    <div class="form-group">
                        <label>N√∫mero de Tarjeta (Simulado)</label>
                        <input type="text" placeholder="0000 0000 0000 0000" maxlength="19" required>
                    </div>
                    <div class="form-row">
                        <input type="text" placeholder="MM/YY" required style="width: 48%;">
                        <input type="text" placeholder="CVC" required style="width: 48%;">
                    </div>
                    <button type="submit" class="btn-pay">Pagar S/ <span id="pay-amount">0.00</span></button>
                </form>
            </div>
        </section>

        <section id="view-admin" class="view">
            <h2>Panel de Administraci√≥n</h2>
            
            <div class="stats-panel">
                <div class="stat-card">Ventas Totales: <span id="adm-sales">S/ 15,400</span> (Simulado)</div>
                <div class="stat-card">Productos Activos: <span id="adm-count">0</span></div>
            </div>

            <div class="admin-grid">
                <div class="admin-form">
                    <h3>Agregar/Editar Producto</h3>
                    <form onsubmit="app.saveProduct(event)">
                        <input type="hidden" id="prod-id">
                        <input type="text" id="prod-name" placeholder="Nombre del producto" required>
                        <input type="text" id="prod-img" placeholder="URL de imagen (o dejar vac√≠o)" >
                        <input type="number" id="prod-price" placeholder="Precio (S/)" required step="0.01">
                        <select id="prod-cat">
                            <option value="tecnologia">Tecnolog√≠a</option>
                            <option value="hogar">Hogar</option>
                            <option value="industrial">Industrial</option>
                        </select>
                        <textarea id="prod-desc" placeholder="Descripci√≥n breve"></textarea>
                        <button type="submit">Guardar Producto</button>
                        <button type="button" onclick="app.resetForm()" class="btn-secondary">Cancelar</button>
                    </form>
                </div>

                <div class="admin-list">
                    <h3>Inventario</h3>
                    <table id="admin-table">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Precio</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </section>

    </main>

    <div id="chatbot-wrapper">
        <div id="chat-window" class="hidden">
            <div class="chat-header">Asistente NESS <span onclick="app.toggleChat()">‚úñ</span></div>
            <div id="chat-messages">
                <div class="msg bot">Hola, soy el asistente de NESS IND. ¬øEn qu√© puedo ayudarte?</div>
            </div>
            <div class="chat-input">
                <input type="text" id="chat-input-text" placeholder="Escribe aqu√≠..." onkeypress="app.handleChatInput(event)">
                <button onclick="app.sendChat()">Enviar</button>
            </div>
        </div>
        <button id="chat-bubble" onclick="app.toggleChat()">üí¨</button>
    </div>

    <script src="script.js"></script>
</body>
</html>